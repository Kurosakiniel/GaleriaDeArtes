<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Galeria de Artes</title>
</head>
<body>
    <h1>Galeria de Artes</h1>
    <!-- Ta autoexplicativo aqui '-' -->
    <a href="{% url 'arte-create' %}">Cadastrar nova arte</a>

    <!-- templates tag para um form de arte, com botões de editar e excluir-->
    {% for arte in artes %}
        <div style="border: 1px solid #ccc; padding: 10px; margin-bottom: 20px;">
            <h2>{{ arte.nome }}</h2>
            <p><strong>Categoria:</strong> {{ arte.categoria.nome }}</p>
            <p><strong>Preço:</strong> R$ {{ arte.preco }}</p>
            {% if arte.imagem %}
                <img src="{{ arte.imagem.url }}" alt="{{ arte.nome }}" width="200">
            {% endif %}
            {% if arte.descricao %}
                <p>{{ arte.descricao }}</p>
            {% endif %}
            <a href="{% url 'arte-update' arte.pk %}">Editar</a>
            <a href="{% url 'arte-delete' arte.pk %}">Excluir</a>
        </div>
    {% empty %}
        <p>Nenhuma arte disponível.</p>
    {% endfor %}

    <!-- Paginação -->
    <div style="margin-top: 20px;">
        {% if page_obj.has_previous %}
            <a href="?page={{ page_obj.previous_page_number }}{% if request.GET.busca %}&busca={{ request.GET.busca }}{% endif %}{% if request.GET.categoria %}&categoria={{ request.GET.categoria }}{% endif %}{% if request.GET.ordenar %}&ordenar={{ request.GET.ordenar }}{% endif %}">Anterior</a>
        {% endif %}

        <span>Página {{ page_obj.number }} de {{ page_obj.paginator.num_pages }}</span>

        {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}{% if request.GET.busca %}&busca={{ request.GET.busca }}{% endif %}{% if request.GET.categoria %}&categoria={{ request.GET.categoria }}{% endif %}{% if request.GET.ordenar %}&ordenar={{ request.GET.ordenar }}{% endif %}">Próxima</a>
        {% endif %}
    </div>
</body>
</html>